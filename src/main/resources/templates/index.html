<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Random Picture App</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"/>
</head>
<body class="container">
<h1>Latest Saved Image - One out of 15</h1>
<div th:if="${imgId}">
    <img th:src="@{'/api/image/' + ${imgId}}" class="img-fluid" alt="Latest Image" width="400" height="400"/>
    <p>Saved at: <span th:text="${savedAt}"></span></p>
</div>
<div th:if="${imgId == null}">
    <p>No picture saved.</p>
</div>
<form id="fetchForm" method="post" th:action="@{'/api/fetch-random'}">
    <button type="button" class="btn btn-primary" onclick="fetchRandom()">Fetch Random Picture</button>
</form>
<script>
    function fetchRandom() {
        fetch('/api/fetch-random', {method: 'POST'})
            .then(() => window.location.reload());
    }
</script>
</body>
</html>
